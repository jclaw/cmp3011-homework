.button {
	&.round {
		border-radius: 100px;
	}
	&.fixed {
		width: 200px;
	}
	&.middle {
		margin: 0 auto;
		display: block;
	}
}

#piano {
	display: block;
	margin: 0 auto;
	* {
		box-sizing: content-box;
	}
	.keys {
		.inner {
			position:absolute;
			bottom:5px;
			left:0;
			width:100%;
			text-align:center;
			font-weight: bold;
			transition: opacity .1s;
			opacity: .5;
		}
		.whiteKey, .blackKey {
			border-style: solid;
			border-width: 1px;
			display: inline-block;
			margin: 0px;
			padding: 0px;
			position: absolute;
			top: 0px;

		}
		.whiteKey {
			vertical-align: top;
			width: 41px;
			height: 149px;
			background: white;

			.inner {
				color: black;
			}
		}
		.blackKey {
			width: 23px;
			height: 99px;
			background: black;

			.inner {
				color: white;
			}
		}

		.playing {
			&:not(.referenceNote):not(.mysteryNote) {
				background: $medium-gray;
			}
			&.referenceNote {
				background: desaturate(lighten($primary-color, 25%), 20%);
			}
		}

		.referenceNote {
			background: desaturate(lighten($primary-color, 35%), 20%);
		}

		// .mysteryNote {
		// 	background: initial;
		// }

		&:hover {
			.inner {
				opacity: 0;
			}
		}
	}
}

.player-container {
	background: white;
	border-radius: 71px;
	overflow: hidden;

	.player-header {
		padding: 38px 62px 28px;
		border-bottom: 1px solid $medium-gray;
	}

	.player-content {
		padding: 38px 62px 28px;
	}

	.player-prompt {
		text-align: center;
		position: absolute;
		left: 0;
		right: 0;
		margin: auto;
		// transition: margin-top 500ms;

		&.lower {
			margin-top: 120px;
		}
	}

	.progress {
		border-radius: 20px;
		overflow: hidden;
		.progress-meter {
			transition: width 500ms;
		}

	}

	.orb-container {
		height: 200px;
		margin: 30px;
		margin-top: 100px;
		.orb {
			$max-diameter: 200px;
			$rest-diameter: $max-diameter - 50;
			$outer-diameter: $rest-diameter;
			margin: 0 auto;
			height: $max-diameter;
			width: 0px;
			position: relative;
			text-align: center;
			line-height: $max-diameter;
			@include transition(all .3s);

			.playbutton {
				position: absolute;
				z-index: 100;
				line-height: 200px;
				margin-left: -9px;
				opacity: 0;
				@include transition(all .3s);
			}

			* {
				border-radius: 1000px;
			}

			.orb-outer {
				position: absolute;
				top: 50%;
				left: -50%;
				@include orb-diameter($outer-diameter);
				@include transition(all .3s .1s);
				background: lighten($primary-color, 25%);

				.orb-inner {
					$scale: .6;
					position: absolute;
					top: 50%;
					left: 50%;
					background: $primary-color;
					@include orb-diameter($outer-diameter * $scale);
					@include transition(all .3s);
				}
			}

			&:hover {
				.playbutton {
					opacity: 1;
					font-size: 3em;
					margin-left: -14px;
					@include transition(all .3s .2s);
				}
				.orb-outer {
					@include orb-diameter($outer-diameter * 1.2);
					animation-duration: 4000ms;
				}
				.orb-inner {
					@include orb-diameter($outer-diameter - 15);
					animation-duration: 3000ms;
				}
			}

			&.playing {
				.orb-outer {
					@include orb-diameter($max-diameter);
					animation-duration: 400ms;
				}
				.orb-inner {
					@include orb-diameter($max-diameter - 20);
					animation-duration: 200ms;
				}
			}

			&.error {
				$min-error-diameter: 60px;
				$max-error-diameter: $rest-diameter - 20px;
				$num-errors: 24;
				$offset: ($max-error-diameter - $min-error-diameter) / ($num-errors - 1);
				@for $i from 0 through $num-errors - 1 {
					&.e-#{$i} {
						@include error-styles($min-error-diameter + ($offset * ($num-errors - $i)));
					}
				}

			}

			&.success {
				$outer-diameter-success: $max-diameter;
				.orb-outer {
					background: lighten($success-color, 25%);
					@include orb-diameter($outer-diameter-success);

				}
				.orb-inner {
					background: $success-color;
					@include orb-diameter($outer-diameter-success - 20);
				}
			}
		}
	}

	.player-footer {
		background: $medium-gray;
		padding: 26px 38px;

		.button {
			margin-bottom: 0;
		}
	}
}

.centered-text {
	text-align: center;
}

.bold {
	font-weight: bold;
}
